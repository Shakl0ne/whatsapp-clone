{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\93480\\\\WebstormProjects\\\\whatsapp_clone\\\\client\\\\src\\\\contexts\\\\ConversationsProvider.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { useContacts } from \"./ContactsProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConversationsContext = /*#__PURE__*/React.createContext();\nexport function useConversations() {\n  _s();\n  return useContext(ConversationsContext);\n}\n_s(useConversations, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function ConversationsProvider(_ref) {\n  _s2();\n  let {\n    id,\n    children\n  } = _ref;\n  const [conversations, setConversations] = useLocalStorage(\"conversations\", []);\n  const {\n    contacts\n  } = useContacts();\n  function createConversation(recipients) {\n    setConversations(prevConversations => {\n      return [...prevConversations, {\n        recipients,\n        message: []\n      }];\n    });\n  }\n  const formattedConversations = conversations.map(conversation => {\n    const recipients = conversation.recipients.map(recipient => {\n      const contact = contacts.find(contact => {\n        return contact.id === recipient;\n      });\n      const name = contact && contact.name || recipient;\n      return {\n        id: recipient,\n        name\n      };\n    });\n    return {\n      ...conversation,\n      recipients\n    };\n  });\n  const value = {\n    conversations: formattedConversations,\n    createConversation\n  };\n  return /*#__PURE__*/_jsxDEV(ConversationsContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s2(ConversationsProvider, \"gOGXJWDcS+RAc057f7VQQB+PN+4=\", false, function () {\n  return [useLocalStorage, useContacts];\n});\n_c = ConversationsProvider;\nvar _c;\n$RefreshReg$(_c, \"ConversationsProvider\");","map":{"version":3,"names":["React","useContext","useLocalStorage","useContacts","ConversationsContext","createContext","useConversations","ConversationsProvider","id","children","conversations","setConversations","contacts","createConversation","recipients","prevConversations","message","formattedConversations","map","conversation","recipient","contact","find","name","value"],"sources":["C:/Users/93480/WebstormProjects/whatsapp_clone/client/src/contexts/ConversationsProvider.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { useContacts } from \"./ContactsProvider\";\n\nconst ConversationsContext = React.createContext();\n\nexport function useConversations() {\n  return useContext(ConversationsContext)\n}\nexport function ConversationsProvider({ id, children }) {\n  const [conversations, setConversations] = useLocalStorage(\"conversations\", []);\n  const { contacts } = useContacts()\n\n  function createConversation(recipients) {\n    setConversations((prevConversations) => {\n      return [...prevConversations, { recipients, message: [] }];\n    });\n  }\n\n  const formattedConversations = conversations.map(conversation => {\n    const recipients = conversation.recipients.map(recipient => {\n      const contact = contacts.find(contact => {\n        return contact.id === recipient\n      })\n      const name = (contact && contact.name) || recipient\n      return { id: recipient, name }\n    })\n    return {...conversation, recipients}\n  })\n\n  const value = {\n    conversations: formattedConversations,\n    createConversation\n  }\n  return (\n    <ConversationsContext.Provider value={value}>\n      {children}\n    </ConversationsContext.Provider>\n  );\n}\n\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,eAAe,MAAM,0BAA0B;AACtD,SAASC,WAAW,QAAQ,oBAAoB;AAAC;AAEjD,MAAMC,oBAAoB,gBAAGJ,KAAK,CAACK,aAAa,EAAE;AAElD,OAAO,SAASC,gBAAgB,GAAG;EAAA;EACjC,OAAOL,UAAU,CAACG,oBAAoB,CAAC;AACzC;AAAC,GAFeE,gBAAgB;AAGhC,OAAO,SAASC,qBAAqB,OAAmB;EAAA;EAAA,IAAlB;IAAEC,EAAE;IAAEC;EAAS,CAAC;EACpD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,eAAe,CAAC,eAAe,EAAE,EAAE,CAAC;EAC9E,MAAM;IAAEU;EAAS,CAAC,GAAGT,WAAW,EAAE;EAElC,SAASU,kBAAkB,CAACC,UAAU,EAAE;IACtCH,gBAAgB,CAAEI,iBAAiB,IAAK;MACtC,OAAO,CAAC,GAAGA,iBAAiB,EAAE;QAAED,UAAU;QAAEE,OAAO,EAAE;MAAG,CAAC,CAAC;IAC5D,CAAC,CAAC;EACJ;EAEA,MAAMC,sBAAsB,GAAGP,aAAa,CAACQ,GAAG,CAACC,YAAY,IAAI;IAC/D,MAAML,UAAU,GAAGK,YAAY,CAACL,UAAU,CAACI,GAAG,CAACE,SAAS,IAAI;MAC1D,MAAMC,OAAO,GAAGT,QAAQ,CAACU,IAAI,CAACD,OAAO,IAAI;QACvC,OAAOA,OAAO,CAACb,EAAE,KAAKY,SAAS;MACjC,CAAC,CAAC;MACF,MAAMG,IAAI,GAAIF,OAAO,IAAIA,OAAO,CAACE,IAAI,IAAKH,SAAS;MACnD,OAAO;QAAEZ,EAAE,EAAEY,SAAS;QAAEG;MAAK,CAAC;IAChC,CAAC,CAAC;IACF,OAAO;MAAC,GAAGJ,YAAY;MAAEL;IAAU,CAAC;EACtC,CAAC,CAAC;EAEF,MAAMU,KAAK,GAAG;IACZd,aAAa,EAAEO,sBAAsB;IACrCJ;EACF,CAAC;EACD,oBACE,QAAC,oBAAoB,CAAC,QAAQ;IAAC,KAAK,EAAEW,KAAM;IAAA,UACzCf;EAAQ;IAAA;IAAA;IAAA;EAAA,QACqB;AAEpC;AAAC,IA9BeF,qBAAqB;EAAA,QACOL,eAAe,EACpCC,WAAW;AAAA;AAAA,KAFlBI,qBAAqB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}